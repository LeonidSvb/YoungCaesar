# –ê–Ω–∞–ª–∏–∑ –∫–æ–ª–æ–Ω–æ–∫ vapi_calls_raw

## –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ 24 –∫–æ–ª–æ–Ω–∫–∏ - –Ω—É–∂–Ω—ã –ª–∏?

| –ö–æ–ª–æ–Ω–∫–∞ | –ù—É–∂–Ω–∞? | –ü–æ—á–µ–º—É? | –†–µ—à–µ–Ω–∏–µ |
|---------|--------|---------|---------|
| **id** | ‚úÖ –î–ê | Primary key, JOIN —Å qci_analyses | –û–°–¢–ê–í–ò–¢–¨ |
| **assistant_id** | ‚úÖ –î–ê | –§–∏–ª—å—Ç—Ä "–ø–æ–∫–∞–∑–∞—Ç—å –∑–≤–æ–Ω–∫–∏ –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ X", JOIN —Å vapi_assistants | –û–°–¢–ê–í–ò–¢–¨ |
| **customer_id** | ‚ùì –ú–û–ñ–ï–¢ | –î–ª—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ –ø–æ –∫–ª–∏–µ–Ω—Ç–∞–º? | –û–ë–°–£–î–ò–¢–¨ |
| **org_id** | ‚ùå –ù–ï–¢ | –í—Å–µ–≥–¥–∞ –æ–¥–Ω–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è, –Ω–µ —Ñ–∏–ª—å—Ç—Ä—É–µ–º | ‚Üí raw_json |
| **type** | ‚ùå –ù–ï–¢ | –í—Å–µ–≥–¥–∞ "outboundPhoneCall", –Ω–µ —Ñ–∏–ª—å—Ç—Ä—É–µ–º | ‚Üí raw_json |
| **status** | ‚úÖ –î–ê | –§–∏–ª—å—Ç—Ä "ended/active", aggregation COUNT –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º | –û–°–¢–ê–í–ò–¢–¨ |
| **ended_reason** | ‚úÖ –î–ê | –§–∏–ª—å—Ç—Ä "customer-busy vs meeting-booked", success rate | –û–°–¢–ê–í–ò–¢–¨ |
| **started_at** | ‚úÖ –î–ê | ORDER BY –¥–ª—è timeline, —Ñ–∏–ª—å—Ç—Ä –ø–æ –¥–∞—Ç–∞–º, aggregation –ø–æ –¥–Ω—è–º | –û–°–¢–ê–í–ò–¢–¨ |
| **ended_at** | ‚ùì –ú–û–ñ–ï–¢ | –ú–æ–∂–µ–º –≤—ã—á–∏—Å–ª–∏—Ç—å duration –∏–∑ started_at + duration_seconds | –û–ë–°–£–î–ò–¢–¨ |
| **created_at** | ‚úÖ –î–ê | –û—Å–Ω–æ–≤–Ω–æ–π ORDER BY, –∏–Ω–¥–µ–∫—Å –¥–ª—è incremental sync | –û–°–¢–ê–í–ò–¢–¨ |
| **transcript** | ‚úÖ –î–ê | Full-text search (GIN index), –ø–æ–∫–∞–∑ –Ω–∞ dashboard | –û–°–¢–ê–í–ò–¢–¨ |
| **summary** | ‚ùå –ù–ï–¢ | –†–µ–¥–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –º–æ–∂–µ–º –≤–∑—è—Ç—å –∏–∑ raw_json | ‚Üí raw_json |
| **cost** | ‚úÖ –î–ê | SUM, AVG, —Ñ–∏–ª—å—Ç—Ä "–¥–æ—Ä–æ–≥–∏–µ –∑–≤–æ–Ω–∫–∏ > $0.10" | –û–°–¢–ê–í–ò–¢–¨ |
| **customer_phone_number** | ‚úÖ –î–ê | –§–∏–ª—å—Ç—Ä –ø–æ –∫–ª–∏–µ–Ω—Ç—É, –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –Ω–æ–º–µ—Ä–∞–º | –û–°–¢–ê–í–ò–¢–¨ |
| **raw_json** | ‚úÖ –î–ê | –í—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ! | –û–°–¢–ê–í–ò–¢–¨ |
| **synced_at** | ‚úÖ –î–ê | Incremental sync –ª–æ–≥–∏–∫–∞ (WHERE synced_at > last_sync) | –û–°–¢–ê–í–ò–¢–¨ |
| **phone_number_id** | ‚ùå –ù–ï–¢ | –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π ID, –Ω–µ —Ñ–∏–ª—å—Ç—Ä—É–µ–º | ‚Üí raw_json |
| **recording_url** | ‚ùì –ú–û–ñ–ï–¢ | –ù—É–∂–Ω–æ –ª–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å "–∑–≤–æ–Ω–∫–∏ —Å –∑–∞–ø–∏—Å—å—é"? | –û–ë–°–£–î–ò–¢–¨ |
| **stereo_recording_url** | ‚ùå –ù–ï–¢ | –î—É–±–ª—å recording_url, –Ω–µ –Ω—É–∂–µ–Ω | ‚Üí raw_json |
| **phone_call_provider** | ‚ùå –ù–ï–¢ | –í—Å–µ–≥–¥–∞ "twilio", –Ω–µ —Ñ–∏–ª—å—Ç—Ä—É–µ–º | ‚Üí raw_json |
| **phone_call_transport** | ‚ùå –ù–ï–¢ | –í—Å–µ–≥–¥–∞ "pstn", –Ω–µ —Ñ–∏–ª—å—Ç—Ä—É–µ–º | ‚Üí raw_json |
| **duration_seconds** | ‚úÖ –î–ê | AVG duration, —Ñ–∏–ª—å—Ç—Ä "–∫–æ—Ä–æ—Ç–∫–∏–µ < 30s", aggregation | –û–°–¢–ê–í–ò–¢–¨ |
| **vapi_summary** | ‚ùå –ù–ï–¢ | –î—É–±–ª—å summary, –Ω–µ –Ω—É–∂–µ–Ω | ‚Üí raw_json |
| **vapi_success_evaluation** | ‚ùì –ú–û–ñ–ï–¢ | –§–∏–ª—å—Ç—Ä "—É—Å–ø–µ—à–Ω—ã–µ –∑–≤–æ–Ω–∫–∏"? | –û–ë–°–£–î–ò–¢–¨ |

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è —Å—Ö–µ–º–∞ (12 –∫–æ–ª–æ–Ω–æ–∫ –≤–º–µ—Å—Ç–æ 24):

### ‚úÖ –û–°–¢–ê–í–ò–¢–¨ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ):
1. **id** - primary key
2. **assistant_id** - —Ñ–∏–ª—å—Ç—Ä, JOIN
3. **created_at** - —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞, incremental sync
4. **started_at** - timeline, —Ñ–∏–ª—å—Ç—Ä –ø–æ –¥–∞—Ç–∞–º
5. **status** - —Ñ–∏–ª—å—Ç—Ä
6. **ended_reason** - success rate
7. **cost** - aggregations (SUM, AVG)
8. **duration_seconds** - aggregations (AVG)
9. **customer_phone_number** - —Ñ–∏–ª—å—Ç—Ä –ø–æ –∫–ª–∏–µ–Ω—Ç—É
10. **transcript** - full-text search
11. **raw_json** - –≤—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ!
12. **synced_at** - incremental sync

### ‚ùì –û–ë–°–£–î–ò–¢–¨:
- **customer_id** - –Ω—É–∂–Ω–∞ –ª–∏ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –∫–ª–∏–µ–Ω—Ç–∞–º?
- **ended_at** - –∏–ª–∏ —Å—á–∏—Ç–∞—Ç—å –∏–∑ started_at + duration?
- **recording_url** - —Ñ–∏–ª—å—Ç—Ä "–∑–≤–æ–Ω–∫–∏ —Å –∑–∞–ø–∏—Å—å—é"?
- **vapi_success_evaluation** - —Ñ–∏–ª—å—Ç—Ä —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏?

### ‚ùå –£–î–ê–õ–ò–¢–¨ (‚Üí raw_json):
- org_id, type, summary
- phone_number_id, phone_call_provider, phone_call_transport
- stereo_recording_url, vapi_summary

---

## üí° –í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Ä–µ—à–µ–Ω–∏—è:

1. **Dashboard —Ñ–∏–ª—å—Ç—Ä—ã** - –∫–∞–∫–∏–µ –Ω—É–∂–Ω—ã?
   - –ü–æ –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç—É? (assistant_id) ‚úÖ
   - –ü–æ –¥–∞—Ç–µ? (started_at) ‚úÖ
   - –ü–æ —Å—Ç–æ–∏–º–æ—Å—Ç–∏? (cost) ‚úÖ
   - –ü–æ –∫–ª–∏–µ–Ω—Ç—É? (customer_phone_number) ‚úÖ
   - –ü–æ —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏? (ended_reason –∏–ª–∏ vapi_success_evaluation?)
   - –ü–æ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏? (duration_seconds) ‚úÖ

2. **Aggregations –¥–ª—è analytics:**
   - SUM(cost) - –æ–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å ‚úÖ
   - AVG(cost) - —Å—Ä–µ–¥–Ω—è—è —Å—Ç–æ–∏–º–æ—Å—Ç—å ‚úÖ
   - AVG(duration_seconds) - —Å—Ä–µ–¥–Ω—è—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å ‚úÖ
   - COUNT(*) GROUP BY assistant_id - –∑–≤–æ–Ω–∫–æ–≤ –Ω–∞ –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ ‚úÖ
   - COUNT(*) WHERE ended_reason = 'meeting-booked' - success rate ‚úÖ

3. **Joins:**
   - calls ‚Üí assistants (–ø–æ assistant_id) ‚úÖ
   - calls ‚Üí qci_analyses (–ø–æ call_id) ‚úÖ

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

1. –†–µ—à–∏—Ç—å –∫–∞–∫–∏–µ –∫–æ–ª–æ–Ω–∫–∏ –æ—Å—Ç–∞–≤–∏—Ç—å (–∏–∑ 12-16)
2. –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é —É–¥–∞–ª–µ–Ω–∏—è –ª–∏—à–Ω–∏—Ö –∫–æ–ª–æ–Ω–æ–∫
3. –í–∑—è—Ç—å 1 –∑–≤–æ–Ω–æ–∫ –∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å–º–∞–ø–ø–∏—Ç—å
4. –°–æ–∑–¥–∞—Ç—å full + incremental sync —Å–∫—Ä–∏–ø—Ç—ã

# QCI Analysis System

Comprehensive Quality Call Index analysis system for VAPI call quality evaluation.

## 📊 Overview

This system analyzes VAPI call transcripts using OpenAI to generate quality scores and actionable recommendations for improving assistant performance.

## 🚀 Quick Start

1. **Run Analysis:**
   ```bash
   node qci_analyzer.js
   ```

2. **View Dashboard:**
   ```bash
   # Start HTTP server from project root
   node ../../simple_server.js

   # Open dashboard
   http://localhost:8080/production_scripts/qci_analysis/dashboard/qci_dashboard_template.html
   ```

3. **Get Assistant Summary:**
   ```bash
   node assistant_summary.js
   ```

## 📁 File Structure

```
qci_analysis/
├── qci_analyzer.js          # Main analysis script
├── assistant_summary.js     # Quick assistant stats
├── add_assistant_ids.js     # Utility to add assistant IDs
├── prompts.js              # QCI evaluation prompts
├── config/                 # Configuration files
├── results/               # Analysis results (JSON)
├── dashboard/             # Interactive dashboard
│   ├── qci_dashboard_template.html
│   └── qci_dashboard_*.html (generated)
└── README.md
```

## ⚙️ Configuration

Edit `qci_analyzer.js` CONFIG section:

```javascript
const CONFIG = {
    INPUT: {
        DATA_FILE: '../vapi_collection/results/[your-file].json',
        MIN_TRANSCRIPT_LENGTH: 100
    },
    TESTING: {
        ENABLED: false,  // Set true for testing
        BATCH_SIZE: 50
    },
    PROCESSING: {
        CONCURRENCY: 15,  // API rate limiting
        RETRY_ATTEMPTS: 2
    }
};
```

## 📈 QCI Scoring System

**Total Score: 100 points**
- **Dynamics (30 pts):** Conversation flow, engagement, timing
- **Objections (20 pts):** Handling of customer concerns
- **Brand (20 pts):** Young Caesar mention consistency
- **Outcome (30 pts):** Achievement of call objectives

**Quality Levels:**
- 80-100: Pass (Excellent)
- 60-79: Review (Good)
- 0-59: Fail (Needs Improvement)

## 🎯 Dashboard Features

- **Real-time analysis results**
- **Assistant performance breakdown**
- **Actionable recommendations (copy-paste ready)**
- **Interactive charts and statistics**
- **Bilingual support (EN/BG)**

## 🔧 Automation Features

The system automatically:
1. Updates `qci_full_calls_with_assistants_latest.json` after each analysis
2. Generates timestamped dashboard files
3. Provides actionable recommendations with copy-paste code blocks
4. Tracks assistant performance trends

## 📊 Key Metrics Tracked

- **Overall QCI scores by assistant**
- **Brand mention consistency**
- **Call volume vs quality correlation**
- **Prompt variation analysis**
- **Performance trends over time**

## 🚨 Critical Alerts

The system identifies:
- Assistants with zero brand mentions
- High-volume, low-quality performers
- Prompt variation opportunities
- Implementation priority rankings

## 📋 Actionable Outputs

1. **Specific assistant IDs requiring immediate attention**
2. **Copy-paste prompt improvements**
3. **Week-by-week implementation plans**
4. **Expected ROI metrics**

## 🔄 Workflow

1. **Collect calls** → `vapi_collection` system
2. **Analyze quality** → `qci_analyzer.js`
3. **Review dashboard** → Interactive HTML
4. **Implement changes** → Copy-paste recommendations
5. **Monitor improvement** → Re-run analysis

## 💡 Best Practices

- Run analysis weekly for trending
- Test prompt changes with small batches first
- Monitor QCI improvements after changes
- Use assistant summary for quick insights
- Focus on zero-brand assistants first

## 🎯 Expected Results

After implementing recommendations:
- **QCI improvement:** 23.5 → 45+ (90% increase)
- **Brand consistency:** 7.2 → 15+ (100% increase)
- **Pass rate:** 2.8% → 15+ (400% increase)

## 📞 Support

Generated by Claude Code QCI Analysis System
Dashboard template automatically updates with latest results.